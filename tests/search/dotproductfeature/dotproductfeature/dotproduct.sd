# Copyright 2019 Oath Inc. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.

search dotproduct {
  document dotproduct {
    field a type weightedset<string> {
      indexing: attribute | summary
    }
    field b type weightedset<string> {
      indexing: attribute | summary
    }
    field i type array<int> {
      indexing: attribute | summary
    }
    field l type array<long> {
      indexing: attribute | summary
    }
    field f type array<float> {
      indexing: attribute | summary
    }
    field d type array<double> {
      indexing: attribute | summary
    }
    field fi type array<int> {
      indexing: attribute | summary
      attribute:fast-search
    }
    field fl type array<long> {
      indexing: attribute | summary
      attribute:fast-search
    }
    field ff type array<float> {
      indexing: attribute | summary
      attribute:fast-search
    }
    field fd type array<double> {
      indexing: attribute | summary
      attribute:fast-search
    }
  }

  rank-profile default {
    summary-features { 
      dotProduct(a,x)
      dotProduct(a,y)
      dotProduct(b,x)
      dotProduct(b,y)
      dotProduct(i,vi)
      dotProduct(f,vf)
      dotProduct(l,vl)
      dotProduct(d,vd)
      dotProduct(fi,vfi)
      dotProduct(ff,vff)
      dotProduct(fl,vfl)
      dotProduct(fd,vfd)
    }
  }
}
