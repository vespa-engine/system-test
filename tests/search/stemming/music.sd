# Copyright Vespa.ai. All rights reserved.
schema music {

  stemming: shortest
  
  document music {

    field setlang type string {
      indexing: input setlang | set_language
    }

    field title type string {
      indexing: index | summary
    }

    field artist1 type string {
      indexing: index | summary
      stemming: multiple
    }

    field artist2 type string {
      indexing: index | summary
      stemming: multiple
    }

    field song type string {
      indexing: index | summary
    }

  }

  fieldset default {
    fields: title, song
  }
  fieldset artist {
    fields: artist1, artist2
  }
  document-summary debug {
    from-disk
    summary title {}
    summary a1t {
      source: artist1
      tokens
    }
    summary a2t {
      source: artist2
      tokens
    }
    summary s_t {
      source: song
      tokens
    }
  }

  rank-profile default {
    first-phase {
      expression: 100 * nativeRank
    }
  }

}
