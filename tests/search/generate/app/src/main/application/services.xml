<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright Vespa.ai. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root. -->
<services version="1.0">

  <container id="default" version="1.0">
    <!-- Mock generator for testing -->
    <component id="mock_generator" class="ai.vespa.test.MockGenerator" bundle="generate">
        <config name="ai.vespa.test.mock-generator">
            <repetitions>2</repetitions>
        </config>
    </component>  
      
    <!-- Setup a custom generator -->
    <component id="mock_with_prompt_generator" class="ai.vespa.test.PromptGenerator" bundle="generate">
      <config name="ai.vespa.test.prompt-generator">
<!--        <prompt>Prepend the following paragraph with "foo": {context}</prompt>-->
        <promptTemplate>files/prompt.txt</promptTemplate>
      </config>
    </component>
      
    <document-api/>
    <search />
    <nodes>
      <jvm options="-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005" />
      <node hostalias="node1" />
    </nodes>
  </container>

  <content id="msmarco" version="1.0">
    <redundancy>1</redundancy>
    <documents>
      <document mode="index" type="passage"/>
    </documents>
    <nodes>
      <node hostalias="node1" distribution-key="0"/>
    </nodes>
  </content>

</services>
