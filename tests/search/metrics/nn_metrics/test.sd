# Copyright Vespa.ai. All rights reserved.
schema test {
  document test {
    field tags type array<int> {
      indexing: attribute | summary
      attribute: fast-search
    }
    field pos type tensor(x[2]) {
      indexing: attribute | index | summary
      index {
        hnsw {
          max-links-per-node: 4
        }
      }
    }
  }
  rank-profile default {
    inputs {
      query(qpos) tensor(x[2])
    }
    first-phase {
      expression: closeness(field,pos)
    }
    # Use four threads per (exact) search
    num-threads-per-search: 4
    # Post-filtering is turned off
    post-filter-threshold: 1.0
    # Fallback to exact search is turned off
    approximate-threshold: 0.0
    # No filter-first
    filter-first-threshold: 0.0
  }
  rank-profile post_filter inherits default {
    post-filter-threshold: 0.00
  }
  rank-profile exact_fallback inherits default {
    approximate-threshold: 1.00
  }
  rank-profile filter_first inherits default {
    filter-first-threshold: 0.0
    approximate-threshold: 0.0
  }
}
